<div class="file-manager mat-elevation-z1" fxLayout="column" [fxFlex]="100">

  <div class="file-manager-header" fxLayout="row">
    <div class="file-manager-title"><ng-content select="[title]"></ng-content></div>
    <div class="flex-spacer"></div>
  </div>

  <mat-drawer-container *ngIf="isLoaded; else loading"
                        fxLayout="row" fxLayoutAlign="start" class="explorer-container" [fxFlex]="100">

    <mat-drawer class="drawer-nav"
                mode="side" opened>
      <ngfire-file-manager-nav [structure]="root"
                               (nodeClicked)="onNodeClicked($event)">
      </ngfire-file-manager-nav>
    </mat-drawer>

    <mat-drawer-content class="drawer-content" fxLayout="column" [fxFlex]="100">
      <ngfire-file-manager-breadcrumbs [position$]="currentPosition$" (nodeClicked)="onNodeClicked($event)"></ngfire-file-manager-breadcrumbs>
      <ngfire-file-manager-pane        [position$]="currentPosition$" (nodeClicked)="onNodeClicked($event)"></ngfire-file-manager-pane>
    </mat-drawer-content>

  </mat-drawer-container>

</div>

<ng-template #loading><app-spinner></app-spinner></ng-template>
